
        <div id='mce_handle_htmledit_<{$id}>' style='display:none' class='mce_style_1'>  
			<ul>
				<li class='returnwyswyg' style="cursor:pointer"><span>&laquo;返回可视化编辑模式</span></li>
			</ul>
             <{*            
			<span class='arrow-left'>&nbsp;</span>     	
  			<span class='returnwyswyg' style='color:#000;cursor:pointer;'>返回可视化编辑</span>
            <span class='sysiconBtnNoIcon' title='粗体' htmltp='b'><strong>B</strong></span>
            <span class='sysiconBtnNoIcon' title='斜体' htmltp='i'><i>i</i></span>
            <span class='sysiconBtnNoIcon' title='下划线' htmltp='u'><u>U</u></span>
            <span class='sysiconBtnNoIcon' title='超链接' htmltp='link'>LINK</span>
            <span class='sysiconBtnNoIcon' title='DIV层' htmltp='div'>DIV</span>
            <span class='sysiconBtnNoIcon' t

itle='段落' htmltp='p'>P</span>
            <span class='sysiconBtnNoIcon' title='LI' htmltp='li'>li</span>
            <span class='sysiconBtnNoIcon' title='BR' htmltp='br'>换行</span>
            <span class='sysiconBtnNoIcon' title='HR' htmltp='hr'>分割线</span>
            <span class='sysiconBtnNoIcon' title='图片' htmltp='img'>插入图片</span>  *}>
        </div>    
<{*
<script> 
void function(){
        var textareaEditor_<{$id}>=new Abstract({
             element:$E('#mce_body_<{$id}> textarea'),
             getRange:function(){
               if(!!document.selection){
                  return document.selection.createRange();
               }
               return false;
             },
             getSelection:function () {
                if(!!document.selection){
                         if(this.range){
                            return this.range.text;
                        }
                    return document.selection.createRange().text;
                }else if(!!this.element.setSelectionRange){
                    return this.element.value.substring(this.element.selectionStart,this.element.selectionEnd);     
                }else{return false};
             },replaceSelection:function (text) {
                var scrollTop=this.element.scrollTop;
                if(!!document.selection) {              
                    this.element.focus();           
                   var old=document.selection.createRange().text;           
                   var range=this.range||document.selection.createRange();          
                   range.text=text;         
                   range-=old.length-text.length;
                }else if(!!this.element.setSelectionRange) {
                    var selection_start=this.element.selectionStart;            
                    this.element.value=this.element.value.substring(0,selection_start)+text+this.element.value.substring(this.element.selectionEnd);            this.element.setSelectionRange(selection_start+text.length,selection_start+text.length);
                }
                this.element.focus();
                this.element.scrollTop=scrollTop;
             },wrapSelection:function (before,after) {
                this.replaceSelection(before+this.getSelection()+after);
                this.range=null;
             }
          });         
         $$('#mce_body_<{$id}> textarea').addEvent('mouseup',function(){          
             textareaEditor_<{$id}>.range=textareaEditor_<{$id}>.getRange();
         });          
         $$('#mce_handle_htmledit_<{$id}> span[htmltp]').addEvent('click',function(e){         
             var htmltp=this.get('htmltp');
             var B="";var A="";      
             if(htmltp=='img'){   
                var url='index.php?app=desktop&act=alertpages&goto='+encodeURIComponent("index.php?app=image&ctl=admin_manage&act=image_broswer&type=b");
            
            return  new imgDialog(url,{onCallback:function(image_id,image_src){ 
                    var img=new Element('img',{src:image_src});             
                    var d=new Element('div').adopt(img);                    
                    textareaEditor_<{$id}>.wrapSelection(d.get('html'),A);                    
                }});                  
             }           
             switch (htmltp){
                         case 'b':B="<b>";A="</b>";break;                     
                         case 'i':B="<i>";A="</i>";break;  
                         case 'u':B="<u>";A="</u>";break;         
                         case 'img':B="<img src='#'/>";break;
                         case 'link':B="<a href='#'>";A="</a>";break;      
                         case 'div':B="<div>";A="</div>";break;      
                         case 'p':B="<p>";A="</p>";break;      
                         case 'br':B="<br/>";break;      
                         case 'hr':B="<hr/>";break;
                         case 'li':B="<li>";A="<li/>";break;                         
             };
             textareaEditor_<{$id}>.wrapSelection(B,A);
         });
        }();    
</script>   
*}>
        <div id="mce_body_<{$id}>" class='wysiwyg_body' style="height:300px;">
            <textarea name="<{$params.name}>" style="display:none" style="height:300px;"><{$params.value}></textarea>
            <div id='mce_body_<{$id}>_frm_container' style="height:100%;"></div>
        </div>
        <div align='left' style='font-size:14px;font-weight:bold;'>
            <script>
               var mce_body_<{$id}>_Height=function(v){   
                   v=v?$('mce_body_<{$id}>').getStyle('height').toInt()+100:$('mce_body_<{$id}>').getStyle('height').toInt()-100;
                   if(v<100)return MessageBox.error("不能再小");
                   $('mce_body_<{$id}>').setStyle('height',(v));
                   if($E('iframe','mce_body_<{$id}>'))
                   $E('iframe','mce_body_<{$id}>').setProperty('height',v);
                   if($E('textarea','mce_body_<{$id}>'))
                   $E('textarea','mce_body_<{$id}>').setStyle('height',v);   
                };
            </script>
            <input type='button' class='button-add' onclick="mce_body_<{$id}>_Height(true);this.blur();" title='增大高度' />
            <input type='button' class='button-cut' onclick="mce_body_<{$id}>_Height(false);this.blur();" title='减小高度' />
        </div>